<div class="content">
  <div class="page-header d-md-flex justify-content-between">
    <div>
      <h3>Welcome back, Dmytro</h3>
      <p class="text-muted">This page shows an overview for your account.</p>
    </div>
    <div class="mt-3 mt-md-0">
      <div class="col">
        <div ngbDropdown class="d-inline-block">
          <button type="button" class="btn btn-primary ml-0 ml-md-2 mt-2 mt-md-0 dropdown-toggle" ngbDropdownToggle>
            Create
          </button>
          <div ngbDropdownMenu aria-labelledby="dropdownActions">
            <button (click)="handleCreateNewShow()" ngbDropdownItem class="dropdown-item">Add Show</button>
            <button ngbDropdownItem class="dropdown-item" *ngIf="shows?.length >= 1">Add Episode</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <h6 class="card-title">Your shows</h6>
          <div class="table-responsive">
            <table id="your-shows" class="table dataTable no-footer">
              <thead>
              <tr role="row">
                <th scope="col">#</th>
                <th scope="col">Cover</th>
                <th scope="col">Episode name</th>
                <th scope="col">Status</th>
                <th scope="col">Format</th>
                <th scope="col">Created</th>
              </tr>
              </thead>
              <tbody>
              <tr role="row" class="odd" *ngFor="let show of shows">
                <td class="navigate-link" (click)="handleMoveToShowDetail(show.id)">{{ show.id }}</td>
                <td>
                  <img class="rounded-pill w-70" [src]="show.cover" alt="artwork" *ngIf="show.cover">
                  <img class="rounded-pill w-70" src="/assets/image/placeholder-image.png" alt="artwork"
                       *ngIf="!show.cover">
                </td>
                <td>{{ show.title }}</td>
                <td>
                  <span
                    [class]="show.status === 'enabled' ? 'badge bg-success-bright text-success' : 'badge bg-warning-bright text-warning'">{{ show.status }}</span>
                </td>
                <td>
                  <span class="badge bg-info-bright text-info">{{ show.format }}</span>
                </td>
                <td>{{ show.created_at | date }}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <h6 class="card-title">Recent Episodes</h6>
          <div class="table-responsive">
            <table id="recent-episodes" class="table dataTable no-footer" role="grid">
              <thead>
              <tr role="row">
                <th scope="col">#</th>
                <th scope="col">Cover</th>
                <th scope="col">Episode name</th>
                <th scope="col">Status</th>
                <th scope="col">Show</th>
                <th scope="col">Format</th>
                <th scope="col">Created</th>
              </tr>
              </thead>
              <tbody>
              <tr role="row" class="odd" *ngFor="let episode of episodes"
                  (click)="handleMoveToEpisodeDetail(episode.id)">
                <td>{{ episode.id }}</td>
                <td>
                  <img class="rounded-pill w-70" [src]="episode.cover" alt="artwork" *ngIf="episode.cover">
                  <img class="rounded-pill w-70" src="/assets/image/placeholder-image.png" alt="artwork"
                       *ngIf="!episode.cover">
                </td>
                <td>{{ episode.title }}</td>
                <td>
                  <span class="badge bg-warning-bright text-warning">{{ episode.status }}</span>
                </td>
                <td>{{ episode.show_id }}</td>
                <td>
                  <span class="badge bg-info-bright text-info">{{ episode.format }}</span>
                </td>
                <td>{{ episode.created_at | date }}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
